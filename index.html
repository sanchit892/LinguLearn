<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LingoPath - Learn Languages For Free</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: #f7f7f7;
            overflow-x: hidden;
        }

        /* Welcome Screen */
        .welcome-screen {
            min-height: 100vh;
            background: linear-gradient(135deg, #58cc02 0%, #1cb0f6 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        .welcome-screen::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0); }
            50% { transform: translate(-20px, -20px); }
        }

        .welcome-content {
            text-align: center;
            z-index: 10;
            max-width: 500px;
        }

        .mascot {
            width: 180px;
            height: 180px;
            margin: 0 auto 30px;
            background: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 100px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
            animation: bounce 2s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .welcome-screen h1 {
            font-size: 3.5em;
            color: white;
            font-weight: 900;
            margin-bottom: 15px;
            text-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .welcome-screen p {
            font-size: 1.3em;
            color: rgba(255, 255, 255, 0.95);
            margin-bottom: 40px;
            font-weight: 600;
        }

        .btn-start {
            background: white;
            color: #58cc02;
            padding: 20px 60px;
            border: none;
            border-radius: 15px;
            font-size: 1.3em;
            font-weight: 800;
            cursor: pointer;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-start:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        .btn-start:active {
            transform: translateY(-2px);
        }

        /* Language Picker */
        .language-picker {
            min-height: 100vh;
            padding: 40px 20px;
            background: linear-gradient(180deg, #1cb0f6 0%, #58cc02 100%);
        }

        .picker-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .picker-header {
            text-align: center;
            color: white;
            margin-bottom: 50px;
        }

        .picker-header h2 {
            font-size: 3em;
            font-weight: 900;
            margin-bottom: 10px;
        }

        .picker-header p {
            font-size: 1.2em;
            font-weight: 600;
            opacity: 0.9;
        }

        .languages-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .lang-card {
            background: white;
            border-radius: 20px;
            padding: 30px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 4px solid transparent;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .lang-card:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }

        .lang-card.selected {
            border-color: #58cc02;
            background: linear-gradient(135deg, #58cc02 0%, #4caf50 100%);
            color: white;
        }

        .lang-flag {
            font-size: 70px;
            margin-bottom: 15px;
            display: block;
        }

        .lang-card h3 {
            font-size: 1.5em;
            font-weight: 800;
            margin-bottom: 8px;
        }

        .lang-card p {
            font-size: 0.9em;
            opacity: 0.8;
            font-weight: 600;
        }

        .btn-continue {
            display: block;
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            color: #58cc02;
            border: none;
            border-radius: 15px;
            font-size: 1.3em;
            font-weight: 800;
            cursor: pointer;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
            text-transform: uppercase;
        }

        .btn-continue:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        .btn-continue:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Learning Dashboard */
        .dashboard {
            min-height: 100vh;
            background: #f7f7f7;
        }

        .top-navbar {
            background: white;
            padding: 15px 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-icon {
            font-size: 35px;
        }

        .logo-text {
            font-size: 1.8em;
            font-weight: 900;
            color: #58cc02;
        }

        .navbar-stats {
            display: flex;
            gap: 25px;
            align-items: center;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 700;
            color: #777;
        }

        .stat-icon {
            font-size: 24px;
        }

        .stat-value {
            color: #333;
            font-size: 1.1em;
        }

        .user-profile {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #ff9a00 0%, #ff6b00 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 800;
            font-size: 18px;
            cursor: pointer;
        }

        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: 40px;
        }

        /* Sidebar */
        .sidebar {
            position: sticky;
            top: 100px;
            height: fit-content;
        }

        .language-info {
            background: white;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        }

        .language-info h3 {
            font-size: 1.3em;
            font-weight: 800;
            margin-bottom: 15px;
            color: #333;
        }

        .current-lang {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: linear-gradient(135deg, #1cb0f6 0%, #0d8fd9 100%);
            border-radius: 12px;
            color: white;
        }

        .current-lang-flag {
            font-size: 40px;
        }

        .current-lang-name {
            font-size: 1.2em;
            font-weight: 700;
        }

        .daily-goal {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        }

        .daily-goal h3 {
            font-size: 1.2em;
            font-weight: 800;
            margin-bottom: 15px;
            color: #333;
        }

        .goal-progress {
            background: #e5e5e5;
            height: 12px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .goal-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #58cc02 0%, #4caf50 100%);
            transition: width 0.5s;
            border-radius: 10px;
        }

        .goal-text {
            text-align: center;
            font-weight: 700;
            color: #58cc02;
            font-size: 1.1em;
        }

        /* Learning Path */
        .learning-path {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        }

        .path-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .path-header h2 {
            font-size: 2.2em;
            font-weight: 900;
            color: #333;
            margin-bottom: 10px;
        }

        .path-header p {
            font-size: 1.1em;
            color: #777;
            font-weight: 600;
        }

        .unit-path {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .unit-node {
            position: relative;
            width: 100%;
            max-width: 500px;
        }

        .path-connector {
            width: 4px;
            height: 30px;
            background: linear-gradient(180deg, #e5e5e5 0%, #d0d0d0 100%);
            margin: 0 auto;
        }

        .path-connector.active {
            background: linear-gradient(180deg, #58cc02 0%, #4caf50 100%);
        }

        .lesson-button {
            width: 120px;
            height: 120px;
            border: 6px solid #e5e5e5;
            border-radius: 50%;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            margin: 0 auto;
            position: relative;
        }

        .lesson-button:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
        }

        .lesson-button.completed {
            background: linear-gradient(135deg, #58cc02 0%, #4caf50 100%);
            border-color: #58cc02;
            color: white;
        }

        .lesson-button.current {
            border-color: #1cb0f6;
            background: linear-gradient(135deg, #1cb0f6 0%, #0d8fd9 100%);
            color: white;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 8px 20px rgba(28, 176, 246, 0.3); }
            50% { box-shadow: 0 8px 40px rgba(28, 176, 246, 0.6); }
        }

        .lesson-button.locked {
            opacity: 0.5;
            cursor: not-allowed;
            border-color: #d0d0d0;
        }

        .lesson-label {
            position: absolute;
            top: 50%;
            left: calc(100% + 20px);
            transform: translateY(-50%);
            background: white;
            padding: 10px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            white-space: nowrap;
        }

        .lesson-label h4 {
            font-size: 1.1em;
            font-weight: 800;
            color: #333;
            margin-bottom: 3px;
        }

        .lesson-label p {
            font-size: 0.9em;
            color: #777;
            font-weight: 600;
        }

        .checkpoint {
            width: 100%;
            background: linear-gradient(135deg, #ff9a00 0%, #ff6b00 100%);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            color: white;
            box-shadow: 0 8px 20px rgba(255, 154, 0, 0.3);
        }

        .checkpoint h3 {
            font-size: 1.8em;
            font-weight: 900;
            margin-bottom: 10px;
        }

        .checkpoint p {
            font-size: 1.1em;
            font-weight: 600;
            opacity: 0.95;
        }

        /* Lesson Screen */
        .lesson-screen {
            min-height: 100vh;
            background: white;
            padding: 30px 20px;
        }

        .lesson-container {
            max-width: 700px;
            margin: 0 auto;
        }

        .lesson-top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .btn-exit {
            background: #e5e5e5;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-exit:hover {
            background: #ff4b4b;
            color: white;
        }

        .question-progress {
            flex: 1;
            margin: 0 20px;
            background: #e5e5e5;
            height: 15px;
            border-radius: 10px;
            overflow: hidden;
        }

        .question-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #58cc02 0%, #4caf50 100%);
            transition: width 0.5s;
        }

        .question-card {
            margin-bottom: 40px;
        }

        .question-text {
            font-size: 2em;
            font-weight: 800;
            color: #333;
            margin-bottom: 40px;
            text-align: center;
        }

        .answer-options {
            display: grid;
            gap: 15px;
        }

        .answer-btn {
            padding: 25px;
            background: white;
            border: 3px solid #e5e5e5;
            border-radius: 15px;
            font-size: 1.2em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
            color: #333;
        }

        .answer-btn:hover {
            background: #f7f7f7;
            border-color: #1cb0f6;
            transform: translateX(5px);
        }

        .answer-btn.selected {
            border-color: #1cb0f6;
            background: #e6f4ff;
        }

        .answer-btn.correct {
            border-color: #58cc02;
            background: #d7f5d3;
            color: #58cc02;
        }

        .answer-btn.wrong {
            border-color: #ff4b4b;
            background: #ffe5e5;
            color: #ff4b4b;
        }

        .answer-btn.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .feedback-section {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 30px;
            background: white;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
            transform: translateY(100%);
            transition: transform 0.3s;
        }

        .feedback-section.show {
            transform: translateY(0);
        }

        .feedback-section.correct {
            background: linear-gradient(135deg, #58cc02 0%, #4caf50 100%);
            color: white;
        }

        .feedback-section.wrong {
            background: linear-gradient(135deg, #ff4b4b 0%, #ff3030 100%);
            color: white;
        }

        .feedback-content {
            max-width: 700px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .feedback-message {
            font-size: 1.5em;
            font-weight: 800;
        }

        .btn-check, .btn-next-question {
            background: white;
            color: #58cc02;
            padding: 18px 50px;
            border: none;
            border-radius: 15px;
            font-size: 1.2em;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
        }

        .btn-check:hover, .btn-next-question:hover {
            transform: scale(1.05);
        }

        .btn-check:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .completion-screen {
            text-align: center;
            padding: 60px 20px;
        }

        .completion-screen h2 {
            font-size: 3.5em;
            font-weight: 900;
            color: #58cc02;
            margin-bottom: 20px;
        }

        .completion-mascot {
            font-size: 150px;
            margin: 30px 0;
        }

        .xp-earned {
            background: linear-gradient(135deg, #ff9a00 0%, #ff6b00 100%);
            color: white;
            padding: 30px;
            border-radius: 20px;
            font-size: 2em;
            font-weight: 900;
            margin: 30px auto;
            max-width: 400px;
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
            }

            .sidebar {
                position: static;
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 20px;
            }

            .lesson-label {
                position: static;
                margin-top: 10px;
                transform: none;
            }
        }

        @media (max-width: 768px) {
            .welcome-screen h1 {
                font-size: 2.5em;
            }

            .picker-header h2 {
                font-size: 2em;
            }

            .navbar-stats {
                gap: 15px;
            }

            .stat-item span {
                display: none;
            }

            .question-text {
                font-size: 1.5em;
            }
        }
    </style>
</head>
<body>
    <!-- Welcome Screen -->
    <div class="screen active welcome-screen" id="welcomeScreen">
        <div class="welcome-content">
            <div class="mascot">ðŸ¦‰</div>
            <h1>LingoPath</h1>
            <p>Learn languages for free, forever</p>
            <button class="btn-start" onclick="showLanguagePicker()">GET STARTED</button>
        </div>
    </div>

    <!-- Language Picker -->
    <div class="screen language-picker" id="languagePicker">
        <div class="picker-container">
            <div class="picker-header">
                <h2>I want to learn...</h2>
                <p>Choose your first language</p>
            </div>

            <div class="languages-grid">
                <div class="lang-card" onclick="selectLanguage('Spanish', 'ðŸ‡ªðŸ‡¸', this)">
                    <span class="lang-flag">ðŸ‡ªðŸ‡¸</span>
                    <h3>Spanish</h3>
                    <p>500M speakers</p>
                </div>
                
                <div class="lang-card" onclick="selectLanguage('French', 'ðŸ‡«ðŸ‡·', this)">
                    <span class="lang-flag">ðŸ‡«ðŸ‡·</span>
                    <h3>French</h3>
                    <p>280M speakers</p>
                </div>
                
                <div class="lang-card" onclick="selectLanguage('German', 'ðŸ‡©ðŸ‡ª', this)">
                    <span class="lang-flag">ðŸ‡©ðŸ‡ª</span>
                    <h3>German</h3>
                    <p>135M speakers</p>
                </div>
                
                <div class="lang-card" onclick="selectLanguage('Italian', 'ðŸ‡®ðŸ‡¹', this)">
                    <span class="lang-flag">ðŸ‡®ðŸ‡¹</span>
                    <h3>Italian</h3>
                    <p>85M speakers</p>
                </div>
                
                <div class="lang-card" onclick="selectLanguage('Japanese', 'ðŸ‡¯ðŸ‡µ', this)">
                    <span class="lang-flag">ðŸ‡¯ðŸ‡µ</span>
                    <h3>Japanese</h3>
                    <p>125M speakers</p>
                </div>
                
                <div class="lang-card" onclick="selectLanguage('Chinese', 'ðŸ‡¨ðŸ‡³', this)">
                    <span class="lang-flag">ðŸ‡¨ðŸ‡³</span>
                    <h3>Chinese</h3>
                    <p>1.3B speakers</p>
                </div>
                
                <div class="lang-card" onclick="selectLanguage('Portuguese', 'ðŸ‡§ðŸ‡·', this)">
                    <span class="lang-flag">ðŸ‡§ðŸ‡·</span>
                    <h3>Portuguese</h3>
                    <p>260M speakers</p>
                </div>
                
                <div class="lang-card" onclick="selectLanguage('Hindi', 'ðŸ‡®ðŸ‡³', this)">
                    <span class="lang-flag">ðŸ‡®ðŸ‡³</span>
                    <h3>Hindi</h3>
                    <p>600M speakers</p>
                </div>
            </div>

            <button class="btn-continue" id="continueBtn" onclick="startDashboard()" disabled>CONTINUE</button>
        </div>
    </div>

    <!-- Dashboard -->
    <div class="screen dashboard" id="dashboardScreen">
        <div class="top-navbar">
            <div class="logo-section">
                <span class="logo-icon">ðŸ¦‰</span>
                <span class="logo-text">LingoPath</span>
            </div>
            <div class="navbar-stats">
                <div class="stat-item">
                    <span class="stat-icon">ðŸ”¥</span>
                    <span class="stat-value" id="streakCount">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">ðŸ’Ž</span>
                    <span class="stat-value" id="gemsCount">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">âš¡</span>
                    <span class="stat-value" id="xpCount">0</span>
                </div>
                <div class="user-profile">U</div>
            </div>
        </div>

        <div class="main-content">
            <div class="sidebar">
                <div class="language-info">
                    <h3>Learning</h3>
                    <div class="current-lang">
                        <span class="current-lang-flag" id="currentLangFlag">ðŸ‡ªðŸ‡¸</span>
                        <div>
                            <div class="current-lang-name" id="currentLangName">Spanish</div>
                            <div style="opacity: 0.9; font-size: 0.9em;">Beginner</div>
                        </div>
                    </div>
                </div>

                <div class="daily-goal">
                    <h3>Daily Goal</h3>
                    <div class="goal-progress">
                        <div class="goal-progress-fill" id="goalProgressFill" style="width: 0%"></div>
                    </div>
                    <div class="goal-text"><span id="goalXP">0</span> / 20 XP</div>
                </div>
            </div>

            <div class="learning-path">
                <div class="path-header">
                    <h2>Your Learning Path</h2>
                    <p>Complete lessons to unlock new content</p>
                </div>

                <div class="unit-path" id="learningPath">
                    <!-- Path will be generated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Lesson Screen -->
    <div class="screen lesson-screen" id="lessonScreen">
        <div class="lesson-container">
            <div class="lesson-top-bar">
                <button class="btn-exit" onclick="exitLesson()">âœ•</button>
                <div class="question-progress">
                    <div class="question-progress-fill" id="questionProgressFill" style="width: 0%"></div>
                </div>
            </div>

            <div id="questionContainer">
                <!-- Questions will be loaded here -->
            </div>
        </div>

        <div class="feedback-section" id="feedbackSection">
            <div class="feedback-content">
                <div class="feedback-message" id="feedbackMessage"></div>
                <button class="btn-check" id="checkBtn" onclick="checkAnswer()" disabled>CHECK</button>
                <button class="btn-next-question" id="nextBtn" onclick="nextQuestion()" style="display: none;">CONTINUE</button>
            </div>
        </div>
    </div>

    <script>
        let selectedLanguage = null;
        let selectedFlag = null;
        let currentLessonIndex = 0;
        let currentQuestionIndex = 0;
        let selectedAnswer = null;
        let correctAnswers = 0;
        
        const userData = {
            streak: 5,
            gems: 125,
            xp: 340,
            dailyXP: 0
        };

        const lessons = [
            {
                name: "Basics 1",
                icon: "ðŸ“š",
                completed: false,
                locked: false,
                questions: [
                    { q: "How do you say 'Hello'?", options: ["Hola", "AdiÃ³s", "Gracias", "Por favor"], correct: 0 },
                    { q: "What does 'Gracias' mean?", options: ["Hello", "Goodbye", "Thank you", "Please"], correct: 2 },
                    { q: "Choose the word for 'Goodbye'", options: ["Hola", "AdiÃ³s", "SÃ­", "No"], correct: 1 },
                    { q: "What does 'Buenos dÃ­as' mean?", options: ["Good night", "Good morning", "Good afternoon", "Goodbye"], correct: 1 },
                    { q: "How do you say 'Please'?", options: ["Gracias", "De nada", "Por favor", "Lo siento"], correct: 2 }
                ]
            },
            {
                name: "Greetings",
                icon: "ðŸ‘‹",
                completed: false,
                locked: false,
                questions: [
                    { q: "'Â¿CÃ³mo estÃ¡s?' means:", options: ["How are you?", "What's your name?", "Where are you?", "How old are you?"], correct: 0 },
                    { q: "Choose the correct response to 'Â¿QuÃ© tal?'", options: ["Muy bien", "De nada", "AdiÃ³s", "Hola"], correct: 0 },
                    { q: "What does 'Mucho gusto' mean?", options: ["Thank you", "Nice to meet you", "Goodbye", "See you later"], correct: 1 },
                    { q: "'Hasta luego' means:", options: ["Hello", "See you later", "Good morning", "How are you"], correct: 1 },
                    { q: "How do you say 'Good night'?", options: ["Buenos dÃ­as", "Buenas tardes", "Buenas noches", "Hasta maÃ±ana"], correct: 2 }
                ]
            },
            {
                name: "Numbers",
                icon: "ðŸ”¢",
                completed: false,
                locked: true,
                questions: [
                    { q: "The number 'cinco' is:", options: ["3", "5", "7", "9"], correct: 1 },
                    { q: "'Diez' means:", options: ["8", "9", "10", "11"], correct: 2 },
                    { q: "How do you say '1'?", options: ["Uno", "Dos", "Tres", "Cuatro"], correct: 0 },
                    { q: "'Ocho' is:", options: ["6", "7", "8", "9"], correct: 2 },
                    { q: "What comes after 'seis'?", options: ["Cinco", "Siete", "Ocho", "Nueve"], correct: 1 }
                ]
            },
            {
                name: "CHECKPOINT",
                icon: "ðŸ†",
                type: "checkpoint",
                locked: true
            },
            {
                name: "Colors",
                icon: "ðŸŽ¨",
                completed: false,
                locked: true,
                questions: [
                    { q: "'Rojo' means:", options: ["Blue", "Red", "Green", "Yellow"], correct: 1 },
                    { q: "The color 'azul' is:", options: ["Blue", "Black", "White", "Brown"], correct: 0 },
                    { q: "'Verde' means:", options: ["Red", "Yellow", "Green", "Purple"], correct: 2 },
                    { q: "What is 'amarillo'?", options: ["Orange", "Yellow", "Pink", "Gray"], correct: 1 },
                    { q: "'Blanco' is:", options: ["Black", "White", "Brown", "Gray"], correct: 1 }
                ]
            },
            {
                name: "Family",
                icon: "ðŸ‘¨â€ðŸ‘©â€ðŸ‘§",
                completed: false,
                locked: true,
                questions: [
                    { q: "'Madre' means:", options: ["Father", "Mother", "Sister", "Brother"], correct: 1 },
                    { q: "How do you say 'father'?", options: ["Hijo", "Hermano", "Padre", "Abuelo"], correct: 2 },
                    { q: "'Hermana' is:", options: ["Sister", "Brother", "Cousin", "Aunt"], correct: 0 },
                    { q: "'Abuelo' means:", options: ["Uncle", "Grandfather", "Father", "Brother"], correct: 1 },
                    { q: "The word for 'son' is:", options: ["Hijo", "Hija", "NiÃ±o", "Padre"], correct: 0 }
                ]
            },
            {
                name: "Food",
                icon: "ðŸŽ",
                completed: false,
                locked: true,
                questions: [
                    { q: "'Agua' means:", options: ["Food", "Water", "Bread", "Milk"], correct: 1 },
                    { q: "How do you say 'bread'?", options: ["Pan", "Leche", "Carne", "Pescado"], correct: 0 },
                    { q: "'Manzana' is:", options: ["Orange", "Banana", "Apple", "Grape"], correct: 2 },
                    { q: "'Pollo' means:", options: ["Fish", "Beef", "Chicken", "Pork"], correct: 2 },
                    { q: "The word for 'milk' is:", options: ["Agua", "Leche", "Jugo", "CafÃ©"], correct: 1 }
                ]
            }
        ];

        function showLanguagePicker() {
            document.getElementById('welcomeScreen').classList.remove('active');
            document.getElementById('languagePicker').classList.add('active');
        }

        function selectLanguage(lang, flag, element) {
            selectedLanguage = lang;
            selectedFlag = flag;
            
            document.querySelectorAll('.lang-card').forEach(card => {
                card.classList.remove('selected');
            });
            element.classList.add('selected');
            
            document.getElementById('continueBtn').disabled = false;
        }

        function startDashboard() {
            document.getElementById('languagePicker').classList.remove('active');
            document.getElementById('dashboardScreen').classList.add('active');
            
            document.getElementById('currentLangName').textContent = selectedLanguage;
            document.getElementById('currentLangFlag').textContent = selectedFlag;
            
            updateStats();
            generatePath();
        }

        function updateStats() {
            document.getElementById('streakCount').textContent = userData.streak;
            document.getElementById('gemsCount').textContent = userData.gems;
            document.getElementById('xpCount').textContent = userData.xp;
            document.getElementById('goalXP').textContent = userData.dailyXP;
            document.getElementById('goalProgressFill').style.width = (userData.dailyXP / 20 * 100) + '%';
        }

        function generatePath() {
            const pathContainer = document.getElementById('learningPath');
            pathContainer.innerHTML = '';
            
            lessons.forEach((lesson, index) => {
                const node = document.createElement('div');
                node.className = 'unit-node';
                
                if (lesson.type === 'checkpoint') {
                    node.innerHTML = `
                        <div class="checkpoint ${lesson.locked ? 'locked' : ''}">
                            <h3>${lesson.icon} ${lesson.name}</h3>
                            <p>Complete all lessons above to unlock</p>
                        </div>
                    `;
                } else {
                    const statusClass = lesson.completed ? 'completed' : 
                                       lesson.locked ? 'locked' : 
                                       index === currentLessonIndex ? 'current' : '';
                    
                    node.innerHTML = `
                        <button class="lesson-button ${statusClass}" onclick="startLesson(${index})">
                            ${lesson.icon}
                        </button>
                        <div class="lesson-label">
                            <h4>${lesson.name}</h4>
                            <p>${lesson.completed ? 'Completed âœ“' : lesson.locked ? 'ðŸ”’ Locked' : 'Start'}</p>
                        </div>
                    `;
                }
                
                pathContainer.appendChild(node);
                
                if (index < lessons.length - 1) {
                    const connector = document.createElement('div');
                    connector.className = `path-connector ${lesson.completed ? 'active' : ''}`;
                    pathContainer.appendChild(connector);
                }
            });
        }

        function startLesson(index) {
            const lesson = lessons[index];
            if (lesson.locked || lesson.type === 'checkpoint') return;
            
            currentLessonIndex = index;
            currentQuestionIndex = 0;
            correctAnswers = 0;
            selectedAnswer = null;
            
            document.getElementById('dashboardScreen').classList.remove('active');
            document.getElementById('lessonScreen').classList.add('active');
            
            loadQuestion();
        }

        function loadQuestion() {
            const lesson = lessons[currentLessonIndex];
            const question = lesson.questions[currentQuestionIndex];
            
            const progress = ((currentQuestionIndex + 1) / lesson.questions.length) * 100;
            document.getElementById('questionProgressFill').style.width = progress + '%';
            
            const container = document.getElementById('questionContainer');
            container.innerHTML = `
                <div class="question-card">
                    <div class="question-text">${question.q}</div>
                    <div class="answer-options">
                        ${question.options.map((option, i) => 
                            `<button class="answer-btn" onclick="selectAnswer(${i})">${option}</button>`
                        ).join('')}
                    </div>
                </div>
            `;
            
            selectedAnswer = null;
            document.getElementById('checkBtn').disabled = true;
            document.getElementById('feedbackSection').classList.remove('show', 'correct', 'wrong');
        }

        function selectAnswer(index) {
            selectedAnswer = index;
            
            document.querySelectorAll('.answer-btn').forEach((btn, i) => {
                btn.classList.remove('selected');
                if (i === index) {
                    btn.classList.add('selected');
                }
            });
            
            document.getElementById('checkBtn').disabled = false;
        }

        function checkAnswer() {
            const lesson = lessons[currentLessonIndex];
            const question = lesson.questions[currentQuestionIndex];
            const isCorrect = selectedAnswer === question.correct;
            
            document.querySelectorAll('.answer-btn').forEach((btn, i) => {
                btn.classList.add('disabled');
                if (i === question.correct) {
                    btn.classList.add('correct');
                } else if (i === selectedAnswer && !isCorrect) {
                    btn.classList.add('wrong');
                }
            });
            
            const feedback = document.getElementById('feedbackSection');
            feedback.classList.add('show', isCorrect ? 'correct' : 'wrong');
            document.getElementById('feedbackMessage').textContent = isCorrect ? 'ðŸŽ‰ Excellent!' : 'ðŸ˜¢ Not quite';
            
            document.getElementById('checkBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'block';
            
            if (isCorrect) {
                correctAnswers++;
                userData.xp += 10;
                userData.dailyXP += 10;
            }
        }

        function nextQuestion() {
            currentQuestionIndex++;
            const lesson = lessons[currentLessonIndex];
            
            if (currentQuestionIndex < lesson.questions.length) {
                loadQuestion();
                document.getElementById('checkBtn').style.display = 'block';
                document.getElementById('nextBtn').style.display = 'none';
            } else {
                completeLesson();
            }
        }

        function completeLesson() {
            const lesson = lessons[currentLessonIndex];
            lesson.completed = true;
            
            if (currentLessonIndex + 1 < lessons.length) {
                lessons[currentLessonIndex + 1].locked = false;
            }
            
            userData.xp += 50;
            userData.gems += 5;
            userData.dailyXP += 10;
            
            const container = document.getElementById('questionContainer');
            container.innerHTML = `
                <div class="completion-screen">
                    <h2>Lesson Complete!</h2>
                    <div class="completion-mascot">ðŸŽ‰</div>
                    <div class="xp-earned">+${(correctAnswers * 10) + 50} XP</div>
                    <p style="font-size: 1.3em; color: #777; font-weight: 600; margin-bottom: 30px;">
                        You got ${correctAnswers} out of ${lesson.questions.length} correct!
                    </p>
                    <button class="btn-continue" onclick="exitLesson()">CONTINUE</button>
                </div>
            `;
            
            document.getElementById('feedbackSection').classList.remove('show');
        }

        function exitLesson() {
            document.getElementById('lessonScreen').classList.remove('active');
            document.getElementById('dashboardScreen').classList.add('active');
            updateStats();
            generatePath();
        }
    </script>
</body>
</html>
